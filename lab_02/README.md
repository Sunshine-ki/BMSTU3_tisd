<h1>Отчёт:</h1> 

**Задача:**

Создать таблицу, содержащую не менее 40-ка записей (тип –
запись с вариантами). Упорядочить данные в ней по
возрастанию ключей, где ключ – любое невариантное поле
(по выбору программиста), используя: а) саму таблицу, б)
массив ключей (возможность добавления и удаления записей
в ручном режиме обязательна)
Ввести список литературы, содержащий фамилию автора,
название книги, издательство, количество страниц, вид
литературы (1: техническая – отрасль, отечественная, переводная,
год издания; 2: художественная – роман, пьеса, стихи; 3: детская –
сказки, стихи). Вывести список отечественной технической
литературы по указанной отрасли.


**Цель работы** 

Приобрести навыки работы с типом данных «запись» («структура»), содержащим
вариантную часть, и с данными, хранящимися в таблицах. Оценить относительную эффективность
программы по времени и по используемому объему памяти в зависимости от
используемого алгоритма и от объема сортируемой информации



**Введение:**

Наименование программы: main.c

Краткие характеристики: Программа служит для работы с базой данных (Книги и их характеристики).

Пользователь может удалять, добавлять, сортировать и выводить книги и их характеристики. Также он имеет возможность сравнить время различных реализаций сортировок.

Срок сдачи:  16.09.2019

**Основания для разработки:**

Заказчик: Александра Васильевна Силантьева

Исполнитель: Сукочева Элис

Основание: Учебный процесс.


**Требования к программе:**

1. Задача решается на языке программирования "с". 

2. При некорректном вводе пользователя выводится сообщение об ошибке и просьба ввести заново.

3. Сортировки должны быть различны по эффективности (для сравнения)

4. Указание действий, производимых программой

5. Наличие пояснений при выводе результата

6. Возможность добавления записей в конец таблицы и удаления записи по
значению указанного поля.

7. Вывод результатов сравнения эффективности работы программы при
обработке данных в исходной таблице и в таблице ключей;


**Входные данные**

Тип входных данных

1. Цифра, которая указывает на пункт меню, который необходимо выполнить.

2. Информационные данные: 

   1. Числа, определяющие какой-то признак (например кол-во книг)

   2. Строки, определяющие какой-то признак (например название книги)

4. Файл, в котором лежит таблица с книгами

**Выходные данные**

1. Таблица

2. Таблица ключей

3. Таблица, которая выводится по ключам

4. Результаты поиска

5. Время сортировки 

**Требования к функциональным характеристикам:**

1. Постановка задачи: 

Задача заключается в том, чтобы реализовать разные виды сортировок для разных структур. Сравнить время. Также реализовать понятный интерфейс для пользователя с возможностями: удаления, добавления, поиска и сортировки книг.

**Структура данных.**

```
ypedef struct
{
    int key;
    int count;
} key_struct;

typedef struct
{
    char industry[MAX_INDUSTRY]; // Отрасль.
    int domestic;                // Отечественная.
    int transferable;            // Переводная.
    int year_publication;        // Год издания.

} technical_strust; // Техничсекая.

typedef union {
    technical_strust technical_type; // Техническая.
    int fiction_type;                // (Роман. Пьеса. Стихи)
    int childrens_type;              // (Сказка, Стихи)
} type_literature_struct;            // Вид литературы.

typedef struct
{
    int row;                                // ключ ряда
    char surname[MAX_SURNAME];              // Фамилия автора.
    char title[MAX_TITLE];                  // Название книги.
    char publishing_house[MAX_PUBLISH];     // Издательство.
    int number_pages;                       // Кол-во страниц.
    int type;                               // Вид литературы.
    type_literature_struct type_literature; // Вариантное поле.
} literature;

```

Основная структура данных, используемая в программе – массив записей с
вариативной частью (таблица)

Запись имеет следующие поля: 

1. Фамилия автора. (строка)

2. Название книги.  (строка)

3. Издательство.  (строка)

4. Количество страниц (целое число)

5. Вид литературы (целое число)

6. Если техническая

1. отрасль (строка)
2. отечественная (целое число)
3. переводная (целое число)

7. Если художественная

1. роман, пьеса или стихи (целое число)

8. Если детская

1. сказки, стихи (целое число)

Структура массива ключей:

1. Индекс в записи (таблице).

2. Значение (кол-во книг).


**Выбор действия**

```

0. Выход.

1. Вывести таблицу.

2. Вывести массив ключей.

3. Вывести список отечественной технической литературы по указанной отрасли.

4. Добавить литературу в конец таблицы.

5. Удалить литературу из таблицы по индексу.

6. Отсортировать и вывести таблицу.

7. Отсортировать массив ключей.

8. Посмотреть результат сортировок.

9. Перемешать таблицу (и массив ключей)

```

**Тестовые данные**

1. Тесты для главного меню:

| Входные данные | Выходные данные | Проверяется |  
|------------|----------|----------|
|1, 6|таблица|Корректная работа|
|2, 7|массив ключей|Корректная работа|
|3|список отечественной технической литературы по указанной отрасли|Корректная работа|
|4, 5, 9||Корректная работа|
|8|Результат сортировок.|Корректная работа|

2. Тесты для вывода всех книг

| Входные данные | Выходные данные | 
|------------|----------|
|В таблице нет книг||
|В таблице один студент|один студент|
|таблица со студентами|таблица|

3. Тесты для ввода кол-ва страниц

| Входные данные | Выходные данные | 
|------------|----------|
|-1|Просьба ввести заново|
|0|Просьба ввести заново|    
|str|Просьба ввести заново|  
|10000|Просьба ввести заново|
|123||

4. Тесты для выбора действия (да / нет)

| Входные данные | Выходные данные | 
|------------|----------|
|-1|Просьба ввести заново|                                                 
|0|Просьба ввести заново|    
|str|Просьба ввести заново|  
|да||
|нет||

5. Тесты для выбора вариантной части (1, 2 или 3)

| Входные данные | Выходные данные | Проверяется |  
|------------|----------|----------|
|-1|Просьба ввести заново|Негативные тесты|                                               
|0|Просьба ввести заново|Граничные значения|
|4|Просьба ввести заново|Граничные значения|
|str|Просьба ввести заново|Строка|
|1||Корректная работа|
|2||Корректная работа|
|3||Корректная работа|

**Итоги и расчёты**

Таблица из 47 книг 

![image](uploads/e34e1b26fcdeb1c12578f816024c4627/image.png)

Таблица из 900 книг 

![image](uploads/5c5f76ecbf09dbf04a9f46b2ce3326df/image.png)

Из сравнения алгоритмов и методов сортировок видно, что во первых, куда лучше использовать эффективные алгоритмы сортировки, а во вторых, выигрыш по времени идет во время сортировки ключей, так как нам не нужно менять местами целое поле структуры, а достаточно поменять лишь пару элементов массива ключей.


**Вывод**

В результате работы были реализованы функции сортировки таблицы (исходной) и таблицы ключей (QuickSort и BubbleSort). Также поиск, добавление и удаление книг в структуре с вариантными полями. Для сортировки гораздо выгоднее использовать таблицу ключей, так как на ее обработку уходит гораздо меньше времени. Но программе потребуется больше памяти.

По времени в 4 (5) раз эффективнее при сортировке ключей.
По памяти на 15%.


**Ответы на вопросы**

1. Как выделяется память под вариантную часть записи?

Память под вариативную часть выделяется таким образом, чтобы ее хватало на
самую большую возможную структуру.

2. Что будет, если в вариантную часть ввести данные, несоответствующие
описанным?

Неизвестно. 

3. Кто должен следить за правильностью выполнения операций с
вариантной частью записи?

Программист.

4. Что представляет собой таблица ключей, зачем она нужна?

Таблица ключей представляет из себя некую структуру, содержащую индекс и значение некоторого выбранного поля таблицы (исходной). Используется для реализации более эффективного выполнения перемещения (сортировок).

5. В каких случаях эффективнее обрабатывать данные в самой таблице, а
когда – использовать таблицу ключей?

Когда много данных, эффективнее обрабатывать данные с использованием ключей. Иначе таблицу. 

6. Какие способы сортировки предпочтительнее для обработки таблиц и
почему?

Сортировки, где меньше перестановок. 


